<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íëŸ¬ ìœ í˜• ì§„ë‹¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 10px;
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* iframe í˜¸í™˜ì„±ì„ ìœ„í•œ ì¶”ê°€ ìŠ¤íƒ€ì¼ */
        html, body {
            width: 100%;
            height: 100%;
        }

        body {
            overflow-y: auto;
        }

        .container {
            background: white;
            border-radius: 24px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
            max-width: 700px;
            width: 100%;
            margin: 20px auto;
            overflow: hidden;
            min-height: 500px;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
            padding: 40px 30px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.3;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 15px;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.3);
            position: relative;
            z-index: 1;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.95;
            position: relative;
            z-index: 1;
        }

        .content {
            padding: 50px 40px;
            text-align: center;
        }

        .question-selection h2 {
            color: #2d3748;
            margin-bottom: 35px;
            font-size: 2em;
            font-weight: 600;
        }

        .option-buttons {
            display: grid;
            gap: 20px;
            max-width: 500px;
            margin: 0 auto;
        }

        .option-btn {
            padding: 20px 30px;
            border: none;
            border-radius: 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
        }

        .option-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .option-btn:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
        }

        .option-btn:hover::before {
            left: 100%;
        }

        .quiz-container {
            display: none;
        }

        .progress-section {
            margin-bottom: 40px;
        }

        .question-counter {
            text-align: center;
            color: #4a5568;
            font-size: 1.3em;
            margin-bottom: 25px;
            font-weight: 600;
        }

        .progress-bar {
            background: #e2e8f0;
            border-radius: 12px;
            height: 12px;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }

        .progress {
            background: linear-gradient(90deg, #667eea, #764ba2);
            height: 100%;
            border-radius: 12px;
            transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }

        .question-card {
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 35px;
            border-left: 6px solid #667eea;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
        }

        .question-text {
            font-size: 1.4em;
            color: #2d3748;
            margin-bottom: 35px;
            line-height: 1.6;
            font-weight: 500;
        }

        .answer-options {
            display: grid;
            gap: 15px;
        }

        .answer-btn {
            padding: 18px 25px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            background: white;
            color: #4a5568;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 1.1em;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }

        .answer-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 100%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            transition: width 0.3s ease;
            z-index: -1;
        }

        .answer-btn:hover {
            border-color: #667eea;
            color: #667eea;
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }

        .answer-btn.selected {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-color: #667eea;
            transform: translateX(5px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .answer-btn.selected::before {
            width: 100%;
        }

        .next-btn {
            background: linear-gradient(135deg, #48bb78, #38a169);
            color: white;
            border: none;
            padding: 18px 45px;
            border-radius: 12px;
            font-size: 1.2em;
            cursor: pointer;
            margin-top: 30px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            box-shadow: 0 8px 25px rgba(72, 187, 120, 0.3);
        }

        .next-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 30px rgba(72, 187, 120, 0.4);
        }

        .next-btn:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .result-container {
            display: none;
            text-align: center;
        }

        .result-score {
            font-size: 3.5em;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 800;
            margin: 30px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .result-title {
            font-size: 2.2em;
            color: #2d3748;
            margin-bottom: 25px;
            font-weight: 700;
        }

        .result-subtitle {
            font-size: 1.4em;
            color: #667eea;
            margin-bottom: 30px;
            font-weight: 600;
            font-style: italic;
        }

        .result-description {
            font-size: 1.2em;
            color: #4a5568;
            line-height: 1.7;
            max-width: 600px;
            margin: 0 auto 40px;
        }

        .restart-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 18px 35px;
            border-radius: 12px;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .restart-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 30px rgba(102, 126, 234, 0.4);
        }

        @media (max-width: 768px) {
            body {
                padding: 5px;
            }
            
            .container {
                margin: 10px auto;
                border-radius: 20px;
                min-height: 400px;
            }
            
            .header {
                padding: 30px 20px;
            }
            
            .content {
                padding: 30px 25px;
            }

            .header h1 {
                font-size: 2em;
            }

            .question-text {
                font-size: 1.2em;
            }

            .option-btn, .answer-btn {
                padding: 15px 20px;
                font-size: 1em;
            }
        }

        @media (max-width: 400px) {
            .header h1 {
                font-size: 1.7em;
            }
            
            .header p {
                font-size: 1em;
            }
            
            .question-text {
                font-size: 1.1em;
            }
            
            .option-btn, .answer-btn {
                padding: 12px 18px;
                font-size: 0.95em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ íëŸ¬ ìœ í˜• ì§„ë‹¨</h1>
            <p>ë‹¹ì‹ ì€ ì–´ë–¤ íƒ€ì…ì˜ íëŸ¬ì¸ê°€ìš”?</p>
        </div>

        <div class="content">
            <!-- ì‹œì‘ í™”ë©´ -->
            <div id="start-screen">
                <div class="question-selection">
                    <h2>ì§„ë‹¨ì„ ì‹œì‘í•´ë³´ì„¸ìš”!</h2>
                    <div class="option-buttons">
                        <button class="option-btn" onclick="startQuiz()">
                            âœ¨ íëŸ¬ ìœ í˜• ì§„ë‹¨ ì‹œì‘ (20ë¬¸í•­)
                        </button>
                    </div>
                </div>
            </div>

            <!-- í€´ì¦ˆ í™”ë©´ -->
            <div id="quiz-screen" class="quiz-container">
                <div class="progress-section">
                    <div class="question-counter">
                        <span id="current-question">1</span> / <span id="total-questions">20</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress" id="progress"></div>
                    </div>
                </div>
                <div class="question-card">
                    <div class="question-text" id="question-text">
                        ì§ˆë¬¸ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.
                    </div>
                    <div class="answer-options" id="answer-options">
                        <button class="answer-btn" data-value="5">ë§¤ìš° ê·¸ë ‡ë‹¤</button>
                        <button class="answer-btn" data-value="4">ê·¸ë ‡ë‹¤</button>
                        <button class="answer-btn" data-value="3">ë³´í†µì´ë‹¤</button>
                        <button class="answer-btn" data-value="2">ê·¸ë ‡ì§€ ì•Šë‹¤</button>
                        <button class="answer-btn" data-value="1">ë§¤ìš° ê·¸ë ‡ì§€ ì•Šë‹¤</button>
                    </div>
                </div>
                <button class="next-btn" id="next-btn" onclick="nextQuestion()" disabled>
                    ë‹¤ìŒ ì§ˆë¬¸
                </button>
            </div>

            <!-- ê²°ê³¼ í™”ë©´ -->
            <div id="result-screen" class="result-container">
                <div class="result-score" id="score">85ì </div>
                <div class="result-title" id="result-title">í“¨ì–´ íëŸ¬</div>
                <div class="result-subtitle" id="result-subtitle">"ë‚˜ëŠ” íëŸ¬ë‹¤. ê·¸ ì™¸ì—” ê´€ì‹¬ ì—†ë‹¤."</div>
                <div class="result-description" id="result-description">
                    ê²°ê³¼ ì„¤ëª…ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.
                </div>
                <button class="restart-btn" onclick="restart()">
                    ğŸ”„ ë‹¤ì‹œ ì§„ë‹¨í•˜ê¸°
                </button>
            </div>
        </div>
    </div>

    <script>
        // ì§ˆë¬¸ ë°ì´í„° (ì§ˆë¬¸, ì •ë°©í–¥ì—¬ë¶€)
        const questionsData = [
            ["íëŸ¬ì˜ ë³¸ì§ˆì€ íì„ í•˜ëŠ” ê²ƒì´ë¼ê³  ìƒê°í•œë‹¤.", true],
            ["íë³´ë‹¤ëŠ” ë”œì„ í™œìš©í•´ í”Œë ˆì´ì— ê¸°ì—¬í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.", false],
            ["ìŠ¹ë¦¬ë³´ë‹¤ëŠ” íŒ€ì›ë“¤ì´ ì¦ê²ê²Œ í”Œë ˆì´í•˜ëŠ” ê²ƒì´ ë” ì¤‘ìš”í•˜ë‹¤.", true],
            ["íŒŒí‹°ì˜ ì•ˆì •ì„±ì„ ë†’ì´ëŠ” ê²ƒì€ íì´ë¼ê³  ìƒê°í•œë‹¤.", true],
            ["ì•„êµ°ì˜ ì²´ë ¥ ë°”ê°€ ë¹„ì–´ìˆëŠ” ê²ƒì„ ë³´ì§€ ëª»í•œë‹¤.", true],
            ["ê²½ìŸë³´ë‹¤ëŠ” í˜‘ë ¥ì„ í†µí•´ ëª©í‘œë¥¼ ë‹¬ì„±í•˜ëŠ” ê²ƒì„ ì„ í˜¸í•œë‹¤.", true],
            ["ê²Œì„ì—ì„œ í™”ë ¤í•œ ìŠ¤í‚¬ë³´ë‹¤ëŠ” ì•ˆì •ì ì¸ í”Œë ˆì´ë¥¼ ì„ í˜¸í•œë‹¤.", true],
            ["ë‚´ê°€ íëŸ¬ì¼ ë•Œ ì•„êµ°ì˜ ì£½ìŒì€ ìš©ë‚©í•  ìˆ˜ ì—†ë‹¤.", true],
            ["ì „íˆ¬ì—ì„œ ì§ì ‘ ê³µê²©í•˜ê¸°ë³´ë‹¤ëŠ” ì§€ì›í•˜ëŠ” ê²ƒì´ ë” ì¬ë¯¸ìˆë‹¤.", true],
            ["íŒ€ ì „ì²´ì˜ ìƒí™©ì„ íŒŒì•…í•˜ë©° í”Œë ˆì´ë¥¼ í•˜ëŠ” ê²ƒì´ ìì—°ìŠ¤ëŸ½ë‹¤.", true],
            ["í”Œë ˆì´ë¥¼ ì´ë„ëŠ” ê²ƒë³´ë‹¤ ì§€ì›í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.", true],
            ["íê³¼ ë”œì„ ìœ ì—°í•˜ê²Œ ë„˜ë‚˜ë“¤ë©° í”Œë ˆì´í•˜ëŠ” ê²ƒì„ ì„ í˜¸í•œë‹¤.", false],
            ["ì„œí¬í„°ì˜ ë³¸ì§ˆì€ í”¼í•´ì˜ ê·¼ì›ì„ ì°¾ì•„ ì—†ì• ëŠ” ê²ƒì´ë‹¤.", false],
            ["íŒ€ì›ê³¼ ì ê·¹ì ìœ¼ë¡œ ì†Œí†µí•˜ë©° ê²Œì„í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤.", true],
            ["ê°œì¸ ê¸°ë¡ë³´ë‹¤ íŒ€ ì„±ê³¼ì— ë” ê´€ì‹¬ì´ ë§ë‹¤.", true],
            ["í˜¼ìì„œëŠ” í•  ìˆ˜ ì—†ëŠ” ì¼ì„ íŒ€ê³¼ í•¨ê»˜ í•´ë‚¼ ë•Œ ë³´ëŒì„ ëŠë‚€ë‹¤.", true],
            ["ì•„êµ°ì´ ìœ„í—˜í•œ ìˆœê°„, íšŒë³µë³´ë‹¤ëŠ” ìœ„í—˜ì˜ ëŒ€ìƒì„ ì œê±°í•œë‹¤.", false],
            ["ë‚´ ìºë¦­í„°ê°€ ì£½ë”ë¼ë„ íŒ€ì›ì„ ì‚´ë¦¬ë ¤ê³  í•œë‹¤.", true],
            ["ê²Œì„ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€ íŒ€ì›ê³¼ì˜ ì‹ ë¢° ê´€ê³„ë‹¤.", true],
            ["íŒ€ì„ ì§€í‚¤ëŠ” ì—­í• ì—ì„œ ìë¶€ì‹¬ì„ ëŠë‚€ë‹¤.", true]
        ];

        let currentQuestionIndex = 0;
        let totalScore = 0;
        let selectedAnswer = null;

        function startQuiz() {
            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('quiz-screen').style.display = 'block';
            document.getElementById('total-questions').textContent = questionsData.length;
            
            showQuestion();
            adjustIframeHeight();
        }

        function showQuestion() {
            const questionText = document.getElementById('question-text');
            const currentQuestionSpan = document.getElementById('current-question');
            const progress = document.getElementById('progress');
            const nextBtn = document.getElementById('next-btn');
            
            questionText.textContent = questionsData[currentQuestionIndex][0];
            currentQuestionSpan.textContent = currentQuestionIndex + 1;
            progress.style.width = ((currentQuestionIndex + 1) / questionsData.length) * 100 + '%';
            
            // ì„ íƒ ì´ˆê¸°í™”
            selectedAnswer = null;
            const answerBtns = document.querySelectorAll('.answer-btn');
            answerBtns.forEach(btn => btn.classList.remove('selected'));
            nextBtn.disabled = true;
            
            if (currentQuestionIndex === questionsData.length - 1) {
                nextBtn.textContent = 'ê²°ê³¼ ë³´ê¸°';
            }
            
            adjustIframeHeight();
        }

        function selectAnswer(value) {
            selectedAnswer = value;
            const answerBtns = document.querySelectorAll('.answer-btn');
            answerBtns.forEach(btn => btn.classList.remove('selected'));
            
            const selectedBtn = event.target;
            selectedBtn.classList.add('selected');
            
            document.getElementById('next-btn').disabled = false;
        }

        function nextQuestion() {
            if (selectedAnswer === null) return;
            
            // ì •ë°©í–¥/ì—­ë°©í–¥ì— ë”°ë¥¸ ì ìˆ˜ ê³„ì‚°
            const isForward = questionsData[currentQuestionIndex][1];
            let score;
            
            if (isForward) {
                score = selectedAnswer; // ì •ë°©í–¥: ë§¤ìš° ê·¸ë ‡ë‹¤ = 5ì 
            } else {
                score = 6 - selectedAnswer; // ì—­ë°©í–¥: ë§¤ìš° ê·¸ë ‡ì§€ ì•Šë‹¤ = 5ì 
            }
            
            totalScore += score;
            currentQuestionIndex++;
            
            if (currentQuestionIndex >= questionsData.length) {
                showResult();
            } else {
                showQuestion();
            }
        }

        function showResult() {
            document.getElementById('quiz-screen').style.display = 'none';
            document.getElementById('result-screen').style.display = 'block';
            
            const scoreElement = document.getElementById('score');
            const titleElement = document.getElementById('result-title');
            const subtitleElement = document.getElementById('result-subtitle');
            const descriptionElement = document.getElementById('result-description');
            
            const maxScore = questionsData.length * 5;
            const percentage = (totalScore / maxScore) * 100;
            
            scoreElement.textContent = `${totalScore}ì `;
            
            let title, subtitle, description;
            
            if (percentage >= 81) {
                title = "í“¨ì–´ íëŸ¬";
                subtitle = '"ë‚˜ëŠ” íëŸ¬ë‹¤. ê·¸ ì™¸ì—” ê´€ì‹¬ ì—†ë‹¤."';
                description = "íì— ì˜¬ì¸í•˜ëŠ” íëŸ¬ ìŠ¤íƒ€ì¼ë¡œ, íŒŒí‹°ì˜ ìƒì¡´ì„ ìµœìš°ì„ ìœ¼ë¡œ ë‘ê³  ì•ˆì •ì  í”Œë ˆì´ë¥¼ ì„ í˜¸í•©ë‹ˆë‹¤. ì•„êµ°ì´ ìœ„í—˜í•œ ìˆœê°„ ëˆ„êµ¬ë³´ë‹¤ ë¨¼ì € ë‹¬ë ¤ê°€ êµ¬í•  ë‹¹ì‹ ì€ í“¨ì–´ íëŸ¬ì…ë‹ˆë‹¤!";
            } else if (percentage >= 61) {
                title = "ì¤‘ë„íëŸ¬";
                subtitle = '"íë„ ë”œë„ ë†“ì¹˜ì§€ ì•ŠëŠ” ìœ ì—°í•œ ìŠ¤íƒ€ì¼"';
                description = "íë„ ë”œë„ ë†“ì¹˜ì§€ ì•ŠëŠ” ìœ ì—°í•œ ìŠ¤íƒ€ì¼ë¡œ, ì˜¬ë¼ìš´ë”ë¥¼ ì§€í–¥í•©ë‹ˆë‹¤. íŒŒí‹° ìƒíƒœì™€ ì „íˆ¬ íë¦„ì„ ë³´ë©° ì „ëµì ìœ¼ë¡œ ì—­í• ì„ ë³€ê²½í•˜ëŠ” ë‹¹ì‹ ì€ ë°˜ë°˜ë¬´ë§ˆë‹ˆì…ë‹ˆë‹¤!";
            } else {
                title = "ë”œíëŸ¬";
                subtitle = '"í”¼í•´ì˜ ê·¼ì›ì„ ì°¾ì•„ ì œê±°í•˜ëŠ” ì, ê·¸ê²ƒì´ ì§„ì •í•œ ì§€ì›ê°€."';
                description = "íë³´ë‹¤ ë”œì— ë¹„ì¤‘ì„ ë” ë§ì´ ë‘ëŠ” íëŸ¬ ìŠ¤íƒ€ì¼ë¡œ, íëŸ¬ íƒˆì„ ì“´ ë”œëŸ¬ì…ë‹ˆë‹¤. ì•„êµ°ì´ ì£½ê¸° ì „ ìƒëŒ€ë¥¼ ë¨¼ì € ì œê±°í•˜ëŠ” ë‹¹ì‹ ì€ ë”œíëŸ¬ì…ë‹ˆë‹¤!";
            }
            
            titleElement.textContent = title;
            subtitleElement.textContent = subtitle;
            descriptionElement.textContent = description;
            
            adjustIframeHeight();
        }

        function restart() {
            document.getElementById('result-screen').style.display = 'none';
            document.getElementById('start-screen').style.display = 'block';
            
            // ì´ˆê¸°í™”
            currentQuestionIndex = 0;
            totalScore = 0;
            selectedAnswer = null;
            
            adjustIframeHeight();
        }

        // iframe ë©”ì‹œì§€ í†µì‹  (ë¶€ëª¨ ì°½ê³¼ì˜ ë†’ì´ ì¡°ì •)
        function adjustIframeHeight() {
            if (window.parent !== window) {
                const height = document.body.scrollHeight;
                window.parent.postMessage({
                    type: 'resize',
                    height: height
                }, '*');
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë†’ì´ ì¡°ì •
        window.addEventListener('load', adjustIframeHeight);
        
        // ì½˜í…ì¸  ë³€ê²½ ì‹œ ë†’ì´ ì¡°ì •
        const observer = new MutationObserver(adjustIframeHeight);
        observer.observe(document.body, {
            childList: true,
            subtree: true,
            attributes: true
        });

        // ë‹µë³€ ë²„íŠ¼ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
        document.addEventListener('DOMContentLoaded', function() {
            const answerBtns = document.querySelectorAll('.answer-btn');
            answerBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const value = parseInt(this.getAttribute('data-value'));
                    selectAnswer(value);
                });
            });
            
            // ì´ˆê¸° ë†’ì´ ì¡°ì •
            adjustIframeHeight();
        });
    </script>
</body>
</html>